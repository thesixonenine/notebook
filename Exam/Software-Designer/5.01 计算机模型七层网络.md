### OSI/RM 七层模型

- 物理层: (比特流传输)将数据转换为可通过物理介质传送的电信号. 设备: 集线器
- 数据链路层: (提供介质访问,链路管理)传送以帧为单位的信息(PPTP,L2TP,SLIP,PPP), 设备: 网桥,交换机
- 网络层: (寻址和路由)分组传输和路由选择(ARP,IP,ICMP,IGMP), 设备: 路由器
- **传输层**: (建立主机端到端链接)把传输表头加至数据以形成数据包. 例如: 传输控制协议(TCP,UDP)
- 会话层: 在数据传输中建立,管理和终止会话
- 表达层: 数据格式的转换,加密,压缩
- **应用层**: 为应用软件提供接口,以设置与另一应用软件之间的通信, 如:HTTP,FTP,TELNET,SSH,SMTP,POP3等

只有在数据链路层互联才能相通


### 网络技术标准与协议

- TCP/IP协议: Internet, 可扩展, 可靠, 应用最广, 牺牲速度和效率
- IPX/SPX协议: NOVELL, 路由, 大型企业网
- NETBEUI协议: IBM, 非路由, 快速

![](./5.01%20计算机模型七层网络/OSI-TCP_IP.png)
![](./5.01%20计算机模型七层网络/02.png)


#### DHCP 协议

租约默认8天, 过半则申请续租

169.254.X.X (Windows) 和 0.0.0.0 (Linux)

如果分配到这两个, 则代表没有联系到DHCP服务器申请到IP

#### DNS 协议

- 递归查询: 主机向本地域名服务器的查询, 要求回答IP与域名的映射关系
- 迭代查询: 本地域名服务器向根域名服务器的查询, 回答不一定是映射关系, 也有可能是其他DNS服务器的地址


#### 计算机网络的分类-拓扑结构

按分布范围: 局域网(LAN),城域网(MAN),广域网(WAN),因特网

按拓扑结构: 总线型,星型,环型


### 网络规划与设计

- 规划原则
  - 实用性原则
  - 开放性原则
  - 先进性原则
- 设计任务
  - 确定网络总体目标
  - 确定总体设计原则
  - 通信子网设计
  - 资源子网设计
  - 设备选型
  - 网络操作系统与服务器资源设备
  - 网络安全设计
- 设计原则
  - 可用性: 指网络或网络设备可用于执行预期任务时间所占总量的百分比
  - 可靠性: 网络设备或计算机持续执行预定功能的可能性
  - 可恢复性: 指网络从故障中恢复的难易程度和时间
  - 适应性: 指在用户改变应用要求时网络的应变能力
  - 可伸缩性: 指网络技术或设备随着用户需求的增长而扩充的能力
- 实施原则
  - 可靠性原则
  - 安全性原则
  - 高效性原则
  - 可扩展性原则
- 实施步骤
  - 工程实施计划
  - 网络设备到货验收
  - 设备安装
  - 系统测试
  - 系统试运行
  - 用户培训
  - 系统转换


#### 逻辑网络设计/物理网络设计

#### 分层设计(考点)

- 接入层: 向本地网段提供用户接入
- 汇聚层: 网络访问策略控制, 数据包处理, 过滤, 寻址
- 核心层: 数据交换

#### IP地址与子网划分

- 全0代表网络地址
- 全1代表广播地址

- A类
  - 最低: 0.0.0.0
  - 最高: 127.255.255.255
  - 十六进制: 00.00.00.00 ~ 7F.FF.FF.FF
  - 二进制前八位: 00000000 ~ 01111111
  - A类地址首位为0
  - 包含的主机数量(前8位是网络号, 后24位用于主机, 减掉的2个是全0和全1的地址): 2^^24 - 2 
- B类
  - 最低: 128.0.0.0
  - 最高: 191.255.255.255
  - 十六进制: 80.00.00.00 ~ BF.FF.FF.FF
  - 二进制前八位: 10000000 ~ 10111111
  - B类地址前两位位为10
  - 包含的主机数量(前16位是网络号, 后16位用于主机, 减掉的2个是全0和全1的地址): 2^^16 - 2
- C类
  - 最低: 192.0.0.0
  - 最高: 223.255.255.255
  - 十六进制: C0.00.00.00 ~ DF.FF.FF.FF
  - 二进制前八位: 11000000 ~ 11011111
  - C类地址前两位位为110
  - 包含的主机数量(前24位是网络号, 后8位用于主机, 减掉的2个是全0和全1的地址): 2^^8 - 2 = 254
- D类(组播)
  - 最低: 224.0.0.0
  - 最高: 239.255.255.255
  - 十六进制: E0.00.00.00 ~ EF.FF.FF.FF
  - 二进制前八位: 11100000 ~ 11101111
- E类(保留)
  - 最低: 240.0.0.0
  - 最高: 255.255.255.255
  - 十六进制: F0.00.00.00 ~ FF.FF.FF.FF
  - 二进制前八位: 11110000 ~ 11111111


172.18.129.0/24

24代表二进制的IP地址中前24位是网络号, 那只有后8位来进行主机分配, 所以可容纳的主机数为2^^8 - 2 = 254


##### 子网划分

- 子网掩码: 区分一个IP地址中哪些部分是网络号(为1的部分), 哪些部分是主机号(为0的部分)
- 将一个网络划分成多个子网(取部分主机号当子网号)
- 将多个网络合并成一个大的网络(取部分网络号当主机号)

> 例1. 将B类IP地址168.195.0.0划分成27个子网, 子网掩码为多少?

B类的子网掩码默认前16位都是1, 然后再往后取5位即可, 因为 2^^5 = 32 > 27
所以: 前面16位是网络号, 5位子网号, 最后的11位是主机号, 即是: 255.255.248.0

> 例2. 将B类IP地址168.195.0.0划分成若干个子网, 每个子网内有主机700台, 则子网掩码为多少?


#### 无分类编址

IP地址 = 网络前缀 + 主机号

128.14.32.0/20 表示的地址块共有2^^12个地址, 起始地址是128.14.32.0, 最大地址是128.14.37.255

全0和全1的不使用

> 例: 分配给某公司的网络地址块是210.115.192.0/20, 该网络可以被划分为几个C类子网

C类子网是前24位是网络号, 而题目中是/20, 也即是前20位是网络号, 所以子网可以用的bit位是24-20=4位=16个子网

5.06
